version: '3.8'
name: archiva
services:
  archiva:
    image: xetusoss/archiva:v2.2.10
    ports:
      - 1010:8080
    volumes:
      - type: volume
        source: archiva-data-vol
        target: /archiva-data
  deployer:
    build:
      context: ./deployer
    volumes:
      - ./secrets/dev/git/url:/run/secrets/git/url
      - ./secrets/dev/archiva/url:/run/secrets/archiva/url
volumes:
  archiva-data-vol: